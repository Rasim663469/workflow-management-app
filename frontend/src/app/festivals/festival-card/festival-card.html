<article class="festival-card">
  <header>
    <h3 class="festival-name">{{ festival.name }}</h3>
    <p class="festival-location">{{ festival.location }}</p>
    <p class="festival-datedebut">Date de début : {{ festival.displayDateDebut }}</p>
    <p class="festival-datefin">Date de fin : {{ festival.displayDateFin }}</p>
    @if (festival.description) {
      <p class="festival-description">{{ festival.description }}</p>
    }
  </header>

  <div class="festival-body">
    <p class="festival-description">
      Zones tarifaires : {{ festival.tariffZones.length }}
    </p>

    @if (festival.tariffZones.length) {
      <ul class="tariff-zones">
        @for (zone of festival.tariffZones; track zone.name) {
          <li class="tariff-zone">
            <div class="zone-name">{{ zone.name }}</div>
            <div class="zone-details">
              <span>{{ zone.totalTables }} tables</span>
              <span>Table : {{ zone.pricePerTable | currency : 'EUR' : 'symbol' : '1.0-0' }}</span>
              <span>m² : {{ zone.pricePerM2 | currency : 'EUR' : 'symbol' : '1.0-2' }}</span>
            </div>
          </li>
        }
      </ul>
    }
  </div>

  @if (auth.isAdmin()) {
    <footer class="actions">
      <a
        class="primary-button"
        [routerLink]="['/reservations']"
        [queryParams]="{ festivalId: festival.id }"
      >
        Gérer les réservations
      </a>
      <a
        class="secondary-button"
        [routerLink]="['/festivals', festival.id, 'edit']"
      >
        Modifier
      </a>
    </footer>
  }
</article>
